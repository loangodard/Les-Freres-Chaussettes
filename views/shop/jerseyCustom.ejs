<%- include('../includes/head.ejs') %>

<link rel="stylesheet" href="/css/customJersey.css">
<link rel='stylesheet' href='/Js/image-picker-master/image-picker/image-picker.css'>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

<style>
    .thumbnails.image_picker_selector img {
        height: 100px;
        width: 100px,
    }
</style>
<%- include('../includes/facebookPixel.ejs') %>
</head>

<body>
    <%- include('../includes/navigation.ejs') %>
    <main>
        <div class="container">
            <div class="col">
                <div class="container">
                    <h1>Personnalise ta <span class='savoir'>chaussette</span> üß¶</h1>
                    <h2>Face arri√®re</h2>
                    <p style="color:grey;">Clic sur les bandes pour personnaliser la couleur, clic sur le text pour le
                        modifier
                        et modifie la couleur de la police en bas. Si tu veux supprimer une bande, laisse la blanche</p>

                    <div class="col customArea">
                        <form <%if(modifying){%> action='/save-jersey' <%}else{%> action='/custom-jersey'
                            <%}%> method='POST'>
                            <div class="center">
                                <div class="row">
                                    <input name='bande1' class='colorpicker' type="color" <%if(typeof customJersey != "undefined"){%> value="<%=customJersey.bande1%>" <%}%> >
                                </div>
                                <div class="row">
                                    <input name='numero' type='text' <%if(typeof customJersey != "undefined"){%>
                            value="<%=customJersey.numero%>" style='color:<%=customJersey.numberColor%>' <%}else{%>
                            value='10' <%}%> class='number' id="number">
                                </div>
                                <div class="row">
                                    <input name='pseudo' type='text' <%if(typeof customJersey != "undefined"){%>
                            value="<%=customJersey.pseudo%>" style='color:<%=customJersey.pseudoColor%>' <%}else{%>
                            value='pseudo'
                            <%}%> class='pseudo' id='pseudo'>
                                </div>
                                <div class="row">
                                    <input name='bande2' class='colorpicker' type="color" <%if(typeof customJersey != "undefined"){%>
                            value="<%=customJersey.bande2%>"
                            <%}%>>
                                </div>
                                <div class="row">
                                    <input name='bande3' class='colorpicker2' type="color" <%if(typeof customJersey != "undefined"){%>
                            value="<%=customJersey.bande3%>"
                            <%}%>>
                                </div>
                                <div class="row">
                                    <input name='bande4' class='colorpicker3' type="color" <%if(typeof customJersey != "undefined"){%>
                            value="<%=customJersey.bande4%>"
                            <%}%>>
                                </div>
                            </div>
                        </div>
                    <div class="col">
                        <div class="wrapper">
                        <h5>Couleur du num√©ro</h5>
                        <input class='colorpicker4' name='numberColor' type='color' id='colorPickerNumber' <%if(typeof customJersey != "undefined"){%>
                            value="<%=customJersey.numberColor%>"
                            <%}%>>
                        </div>
                    </div>
                    <div class="col">
                        <div class="wrapper">
                        <h5>Couleur du pseudo</h5>
                        <input class='colorpicker4' name='pseudoColor' type='color' id='colorPickerPseudo' <%if(typeof customJersey != "undefined"){%>
                            value="<%=customJersey.pseudoColor%>" <%}%>>
                        </div>
                    </div>
                    <strong>Appuie sur les bandes pour changer leurs couleurs</strong>


                </div>
            </div>

            <div class="col">
                <div class="container">
                    <br><hr>
                    <h2>Face avant</h2>
                    <select name='logo' id='logoSelector' class='image-picker show-html'>
                        <optgroup label="Choisi un logo pour la face avant des chaussettes">
                            <option value='images/custom/18.png' data-img-src="/images/custom/18.png">18</option>
                            <option value="images/custom/19.png" data-img-src="/images/custom/19.png">19</option>
                            <option value="images/custom/20.png" data-img-src="/images/custom/20.png">20</option>
                            <option value="images/custom/21.png" data-img-src="/images/custom/21.png">21</option>
                            <option value="images/custom/22.png" data-img-src="/images/custom/22.png">22</option>
                            <option value="images/custom/23.png" data-img-src="/images/custom/23.png">23</option>
                            <option value="images/custom/24.png" data-img-src="/images/custom/24.png">24</option>
                            <option value="images/custom/1.png" data-img-src="/images/custom/1.png">1</option>
                            <option value="images/custom/2.png" data-img-src="/images/custom/2.png">2</option>
                            <option value="images/custom/3.png" data-img-src="/images/custom/3.png">3</option>
                            <option value="images/custom/4.png" data-img-src="/images/custom/4.png">4</option>
                            <option value="images/custom/5.png" data-img-src="/images/custom/5.png">5</option>
                            <option value="images/custom/6.png" data-img-src="/images/custom/6.png">6</option>
                            <option value="images/custom/7.png" data-img-src="/images/custom/7.png">7</option>
                            <option value="images/custom/8.png" data-img-src="/images/custom/8.png">8</option>
                            <option value="images/custom/9.png" data-img-src="/images/custom/9.png">9</option>
                            <option value="images/custom/10.png" data-img-src="/images/custom/10.png">10</option>
                            <option value="images/custom/11.png" data-img-src="/images/custom/11.png">11</option>
                            <option value="images/custom/12.png" data-img-src="/images/custom/12.png">12</option>
                            <option value="images/custom/13.png" data-img-src="/images/custom/13.png">13</option>
                            <option value="images/custom/14.png" data-img-src="/images/custom/14.png">14</option>
                            <option value="images/custom/15.png" data-img-src="/images/custom/15.png">15</option>
                            <option value="images/custom/16.png" data-img-src="/images/custom/16.png">16</option>
                            <option value="images/custom/17.png" data-img-src="/images/custom/17.png">17</option>
                            <option value="images/custom/25.png" data-img-src="/images/custom/25.png">25</option>
                            <option value="images/custom/26.png" data-img-src="/images/custom/26.png">26</option>
                            <option value="images/custom/27.png" data-img-src="/images/custom/27.png">27</option>
                            <option value="images/custom/28.png" data-img-src="/images/custom/28.png">28</option>
                            <option value="images/custom/29.png" data-img-src="/images/custom/29.png">29</option>
                            <option value="images/custom/30.png" data-img-src="/images/custom/30.png">30</option>
                            <option value="images/custom/31.png" data-img-src="/images/custom/31.png">31</option>
                            <option value="images/custom/32.png" data-img-src="/images/custom/32.png">32</option>
                            <option value="images/custom/33.png" data-img-src="/images/custom/33.png">33</option>
                            <option value="images/custom/34.png" data-img-src="/images/custom/34.png">34</option>
                            <option value="images/custom/35.png" data-img-src="/images/custom/35.png">35</option>
                            <option value="images/custom/36.png" data-img-src="/images/custom/36.png">36</option>
                            <option value="images/custom/37.png" data-img-src="/images/custom/37.png">37</option>
                            <option value="images/custom/38.png" data-img-src="/images/custom/38.png">38</option>
                            <option value="images/custom/39.png" data-img-src="/images/custom/39.png">39</option>
                            <option value="images/custom/40.png" data-img-src="/images/custom/40.png">40</option>
                            <option value="images/custom/41.png" data-img-src="/images/custom/41.png">41</option>
                            <option value="images/custom/42.png" data-img-src="/images/custom/42.png">42</option>
                            <option value="images/custom/43.png" data-img-src="/images/custom/43.png">43</option>
                            <option value="images/custom/44.png" data-img-src="/images/custom/44.png">44</option>
                            <option value="images/custom/45.png" data-img-src="/images/custom/45.png">45</option>
                            <option value="images/custom/46.png" data-img-src="/images/custom/46.png">46</option>
                            <option value="images/custom/47.png" data-img-src="/images/custom/47.png">47</option>
                        </optgroup>
                    </select>
                    <h2>Taille</h2>
                    Taille
                    <select name='taille'>
                        <option value="35-38">35-38 EU</option>
                        <option value="38-41">38-41 EU</option>
                        <option value="42-46">42-46 EU</option>
                    </select>
                </div>
                <input type='hidden' <%if(typeof customJersey != "undefined"){%> value='<%=customJersey._id%>' <%}%>  name='id'>
                <br>
                <%if(modifying){%> <button class='btn btn-success' type='submit'>Sauvegarder</button>
                            <%}else{%>
                            <button class='btn btn-success' type='submit'>Terminer</button>
                            <%}%>
            </div>
        </div>
        <br>
        <br>
        </form>
    </main>

    <script src="/Js/image-picker-master/image-picker/image-picker.min.js"></script>
    <script>
        $('.image-picker').imagepicker();


    </script>

    <script>
        const colorPickerNumber = document.querySelector('#colorPickerNumber')

        colorPickerNumber.addEventListener("input", watchColorPicker, false);

        function watchColorPicker(event) {
            document.querySelectorAll("#number").forEach(function (number) {
                number.style.color = event.target.value;
            });
        }

        const colorPickerPseudo = document.querySelector('#colorPickerPseudo')

        colorPickerPseudo.addEventListener("input", watchColorPickerPseudo, false);

        function watchColorPickerPseudo(event) {
            document.querySelectorAll("#pseudo").forEach(function (pseudo) {
                pseudo.style.color = event.target.value;
            });
        }

        var elt = document.querySelector('select');

        elt.addEventListener('input', function () {
            console.log('selectedIndex => ' + this.options[this.selectedIndex].value)
        })

    </script>

    <%- include('../includes/end.ejs') %>